<div class="bg-dark text-light">
  <div class="container">
    <div class="d-flex">
      <div class="col-md-12">
        <h1 class="fw-bold">Post Comments</h1>
      </div>
    </div>
  </div>
</div>

<div class="container">
  {{> post-info post}}
  {{#if loggedIn}}
  <div class="buttons">
    {{vote_count}}
    <button id="likeBtn" class="upvote-btn text-warning btn"><svg class="bi bi-heart-fill" width="1em" height="1em"
        viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z" />
      </svg> Like</button>
  </div>
  {{/if}}

  {{#if post.comments}}
  <h2 class="mt-2">Comments</h2>
  {{#each post.comments as |comment|}}
  {{> comment-info comment}}
  {{/each}}
  {{else}}
  <h2>No comments yet.</h2>
  {{/if}}

  {{#if loggedIn}}
  <!--- COMMENT FORM -->
  <form id="comment-form" user-data="{{user_id}}" class="mt-3 d-none" method="POST">
    <div class="form-group card">
      <div class="card-header bg-dark text-light">
        Comment
      </div>
      <div class="card-body">
        <textarea name="comment" class="form-control" rows="3"></textarea>
      </div>
    </div>
    <button type="submit" class="btn btn-dark mt-2">Submit</button>
  </form>
  {{/if}}

  <!-- ONLY SHOW IF LOGGED IN -->
  <div class="text-center my-3">
    {{#if loggedIn}}
    <button id="comment-btn" onclick="comment_form()" class="btn btn-dark">Add comment</button>
    {{else}}
    <a href="/login" class="btn btn-dark">Login to Comment</a>
    {{/if}}
  </div>
</div>

{{#if loggedIn}}
<script src="/javascript/comment.js"></script>
<script src="/javascript/upvote.js"></script>
{{/if}}